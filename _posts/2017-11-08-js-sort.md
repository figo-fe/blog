---
layout: post
title: JS实现排序算法
description: 问题：将一组数从小到大排序。分别介绍冒泡排序、选择排序、归并排序、堆排序。通过代码实现和动图演示详细分析。
---
## 问题：将一组数从小到大排序，使用JS实现排序算法

### 冒泡排序
* 代码示例

```
var bubbleSort = function(arr){
    var len = arr.length;
    for(var i = 0; i < len; i++){
        for(var j = 0; j < len -1 -i; j++){
            if(arr[j] > arr[j+1]){//    想邻元素比较与排序
                var tmp = arr[j+1];
                arr[j+1] = arr[j];
                arr[j] = tmp;
            }
        }
    }
    return arr;
}
```

* 图片示例

![冒泡排序](http://upload-images.jianshu.io/upload_images/1867034-e19840224b331fae.gif?imageMogr2/auto-orient/strip)

### 选择排序

* 代码示例

```
var selectionSort = function(arr){
    var len = arr.length;
    var minIndex, tmp;
    for(var i = 0; i < len - 1; i++){
        minIndex = i;
        for(var j = i + 1; j < len; j++){// 寻找并保存最小数的索引
            if(arr[j] < arr[minIndex]){
                minIndex = j;
            }
        }
        tmp = arr[i];
        arr[i] = arr[minIndex];
        arr[minIndex] = tmp;
    }
    return arr;
}
```

* 图片示例

![选择排序](http://upload-images.jianshu.io/upload_images/1867034-c6cc220cfb2b9ac8.gif?imageMogr2/auto-orient/strip)

### 插入排序

* 代码示例

```
var insertionSort = function(arr){
    var len = arr.length;
    var preIndex, current;
    for(var i = 1; i < len; i++){
        preIndex = i - 1;
        current = arr[i];
        while(preIndex >= 0 && arr[preIndex] > current){
            arr[preIndex+1] = arr[preIndex];
            preIndex--;
        }
        arr[preIndex+1] = current;
    }
    return arr;
}
```

* 图片示例

![插入排序](http://upload-images.jianshu.io/upload_images/1867034-d1537e355abdd298.gif?imageMogr2/auto-orient/strip)

### 归并排序

* 说明

归并排序用到了递归

* 代码示例
```
var merge = function(left, right){
    var result = [];

    while(left.length && right.length){
        if(left[0] <= right[0]){
            result.push(left.shift());
        }else{
            result.push(right.shift());
        }
    }

    while(left.length)
        result.push(left.shift());
    while(right.length)
        result.push(right.shift());

    return result;
}
var mergeSort = function(arr){
    var len = arr.length;
    if(len < 2){
        return arr;
    }
    var middle = Math.floor(len/2),
        left = arr.slice(0, middle),
        right = arr.slice(middle);

    return merge(mergeSort(left), mergeSort(right))
}
```

* 图片示例

![归并排序](http://upload-images.jianshu.io/upload_images/1867034-18c70f637b5c01c2.gif?imageMogr2/auto-orient/strip)

### 堆排序

* 说明

堆排序涉及到堆的概念，其中大顶堆是指每个节点的值都大于等于其子节点值，可用于堆排序算法的升序排列

* 代码示例

```
var heapSort = function(arr){
    var len;

    var swap =function(arr, i, j){
        var tmp = arr[i];
        arr[i] = arr[j];
        arr[j] = tmp;
    }

    var heapify = function(arr, i){//    堆调整
        var left = 2 * i + 1,
            right = 2 * i + 2,
            largest = i;
        if(left < len && arr[left] > arr[largest]){
            largest = left;
        }
        if(right < len && arr[right] > arr[largest]){
            largest = right;
        }
        if(largest != i){
            swap(arr, i , largest);
            heapify(arr, largest);
        }
    }

    var buildMaxHeap = function(arr){//    建立大顶堆
        len = arr.length;
        for(var i = Math.floor(len/2); i >= 0; i--){
            heapify(arr, i);
        }
    }

    var heapSortFn = function(arr){
        buildMaxHeap(arr);
        for(var i = arr.length - 1; i > 0; i--){
            swap(arr, 0, i);
            len--;
            heapify(arr, 0);
        }
        return arr;
    }

    return heapSortFn(arr);
}
```

* 图片示例

![堆排序](http://upload-images.jianshu.io/upload_images/1867034-bf2472770e2258a9.gif?imageMogr2/auto-orient/strip)